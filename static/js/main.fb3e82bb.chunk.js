(window["webpackJsonpdaniel-shema-24-09-19"]=window["webpackJsonpdaniel-shema-24-09-19"]||[]).push([[0],{49:function(e,t,a){e.exports=a(95)},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(48),r=a(0),c=a.n(r),i=a(21),o=a.n(i),s=(a(54),a(55),a(3)),l=a(4),u=a(7),m=a(5),h=a(8),p=a(18),y=(a(56),a(6)),d=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.isCelsius,n=t.isLightTheme,r=t.children;return c.a.createElement("div",null,c.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark",id:"mainNav"},c.a.createElement("div",{className:"container"},c.a.createElement(p.b,{className:"navbar-brand js-scroll-trigger",to:"/"},"CastAWeather"),c.a.createElement("button",{className:"navbar-toggler navbar-toggler-right",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},c.a.createElement("ul",{className:"navbar-nav mr-auto"},c.a.createElement("li",null),c.a.createElement("li",{className:"nav-item"},c.a.createElement(p.b,{className:"nav-link js-scroll-trigger",to:"/"},"Home")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(p.b,{className:"nav-link js-scroll-trigger",to:"/favorites"},"Favorites"))),c.a.createElement("div",{className:"toggle-group"},c.a.createElement("div",{className:"custom-control custom-switch"},c.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"themeSwitch",onChange:function(){return e.props.dispatch({type:"TOGGLE_THEME"})},checked:!n}),c.a.createElement("label",{className:"custom-control-label text-white pr-2",htmlFor:"themeSwitch"},"Light / Dark Theme")),c.a.createElement("div",{className:"custom-control custom-switch"},c.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"temperatureSwitch",onChange:function(){return e.props.dispatch({type:"TOGGLE_TEMP"})},checked:!a}),c.a.createElement("label",{className:"custom-control-label text-white pr-2",htmlFor:"temperatureSwitch"},"C / F"))),c.a.createElement("form",{className:"form-inline mt-2 mt-md-0 mr-2",onChange:function(t){return e.autoCompleteSearch(t)},onSubmit:function(t){return e.updateStageForSearch(t)}},c.a.createElement("input",{className:"form-control mr-sm-2",type:"text",name:"city",placeholder:"Search a city..","aria-label":"Search"}),c.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit"},"Search"))))),r)}}]),t}(c.a.Component),b=Object(y.b)((function(e){return{isCelsius:e.isCelsius,isLightTheme:e.isLightTheme}}))(d),E=a(16),v=a(20),f=a(45),g=a(46),C=(a(65),a(15)),O=(a(66),a(67),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).setIndicatorColor=function(e){return e>=40?["thermometer-full","#d20025"]:e>=30?["thermometer-three-quarters","#d2ce0e"]:e>=20?["thermometer-half","#2ad20d"]:e>=15?["thermometer-quarter","#2428ec"]:["thermometer-empty","#248eec"]},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.setIndicatorColor(this.props.temperature);return c.a.createElement(C.a,{className:"primary mb-2 ".concat(this.props.className),icon:e[0],color:e[1],size:this.props.isHeadline?"3x":"1x"})}}]),t}(c.a.Component)),T=function(e){return"".concat("http://apidev.accuweather.com/developers/Media/Default/WeatherIcons/").concat(e>9?e:"0"+e,"-s.png")},N=function(e){return(1.8*e+32).toFixed(1)},w=function(e,t){var a=new Date(1e3*e).getDay(),n=[];return n[0]="Sunday",n[1]="Monday",n[2]="Tuesday",n[3]="Wednesday",n[4]="Thursday",n[5]="Friday",n[6]="Saturday",n[a]},I=function(e){return{type:"REMOVE_FAVORITE",CityId:e}},j=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.city,n=t.cityId,r=t.originCountry,i=t.isCelsius,o=t.weatherText,s=t.weatherIcon,l=t.temperature;return c.a.createElement("header",{className:"masthead border-bottom"},c.a.createElement("div",{className:"d-flex justify-content-start pl-lg-5"},c.a.createElement("div",{className:"btn-group pt-3"},c.a.createElement("button",{type:"button",className:"btn btn-lg btn-outline-secondary",onClick:function(){e.props.dispatch(function(e,t,a,n,r,c){return{type:"ADD_FAVORITE",CityId:e,City:t,OriginCountry:a,Temperature:c,WeatherText:n,WeatherIcon:r}}(n,a,r,o,s,l))}},c.a.createElement(C.a,{icon:"star"})),c.a.createElement("button",{type:"button",className:"btn btn-lg btn-outline-secondary",onClick:function(){e.props.dispatch(I(n))}},c.a.createElement(C.a,{icon:"trash-alt"})))),c.a.createElement("div",{className:"container d-flex h-100 align-items-center"},c.a.createElement("div",{className:"mx-auto text-center"},c.a.createElement("h1",{className:"mx-auto my-0 text-uppercase text-white border city-info"},a),c.a.createElement("p",{className:"mx-auto my-0 text-white city-info"},r),c.a.createElement("img",{src:T(s),crossOrigin:"anonymous",alt:o}),c.a.createElement("h2",{className:"text-white mx-auto mt-2 mb-5 city-info"},i?l:N(l),"\xb0"),c.a.createElement(O,{temperature:l,color:"red",isHeadline:!0}),c.a.createElement("h2",{className:"text-white mx-auto mt-2 mb-5 city-info"},o))))}}]),t}(c.a.Component),x=Object(y.b)()(j),D=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.EpochDate,a=(e.key,e.isCelsius),n=e.Temperature,r=e.Night,i=e.Day,o=e.Date;return c.a.createElement("div",{className:"col-md-2"},c.a.createElement("div",{className:"card mb-4 shadow-sm"},c.a.createElement("div",{className:"card-body text-center"},c.a.createElement("h6",{className:"text-uppercase m-2"},w(t)),c.a.createElement("h4",{className:"text-uppercase m-0"},a?"".concat(n.Minimum.Value,"\xb0\n                                 - ").concat(n.Maximum.Value,"\xb0"):"".concat(N(n.Minimum.Value),"\xb0\n                                 - ").concat(N(n.Maximum.Value),"\xb0")),c.a.createElement("div",{className:"d-flex justify-content-around"},c.a.createElement(O,{temperature:n.Minimum.Value}),c.a.createElement(O,{temperature:n.Maximum.Value})),c.a.createElement("div",{className:"d-flex justify-content-around"},c.a.createElement("img",{src:T(r.Icon),crossOrigin:"anonymous",alt:i.IconPhrase}),c.a.createElement("img",{src:T(i.Icon),crossOrigin:"anonymous",alt:r.IconPhrase})),c.a.createElement("hr",{className:"my-4"}),c.a.createElement("p",{className:"text-uppercase m-2 small"},function(e,t){var a=e.substring(0,e.indexOf("T"));return a=a.split("-").reverse().join("-")}(o)))))}}]),t}(c.a.Component),k=Object(y.b)((function(e){return{isCelsius:e.isCelsius}}))(D),S=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"container-fluid"},c.a.createElement("h3",{className:"mx-auto my-4 pl-4 text-uppercase"},"The Next 5 Days:"),c.a.createElement("div",{className:"row justify-content-center"},this.props.DailyForecasts.map((function(e,t){return c.a.createElement(k,Object.assign({},e,{key:t}))}))))}}]),t}(c.a.Component),W=Object(y.b)()(S),M={Headline:{EffectiveDate:"2019-09-28T08:00:00+03:00",EffectiveEpochDate:1569646800,Severity:4,Text:"Pleasant this weekend",Category:"",EndDate:null,EndEpochDate:null,MobileLink:"http://m.accuweather.com/en/il/tel-aviv-port/215793/extended-weather-forecast/215793?unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv-port/215793/daily-weather-forecast/215793?unit=c&lang=en-us"},DailyForecasts:[{Date:"2019-09-26T07:00:00+03:00",EpochDate:1569470400,Temperature:{Minimum:{Value:22.5,Unit:"C",UnitType:17},Maximum:{Value:30.8,Unit:"C",UnitType:17}},Day:{Icon:1,IconPhrase:"Sunny",HasPrecipitation:!1},Night:{Icon:33,IconPhrase:"Clear",HasPrecipitation:!1},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv-port/215793/daily-weather-forecast/215793?day=1&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv-port/215793/daily-weather-forecast/215793?day=1&unit=c&lang=en-us"},{Date:"2019-09-27T07:00:00+03:00",EpochDate:1569556800,Temperature:{Minimum:{Value:23.7,Unit:"C",UnitType:17},Maximum:{Value:30.5,Unit:"C",UnitType:17}},Day:{Icon:1,IconPhrase:"Sunny",HasPrecipitation:!1},Night:{Icon:34,IconPhrase:"Mostly clear",HasPrecipitation:!1},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv-port/215793/daily-weather-forecast/215793?day=2&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv-port/215793/daily-weather-forecast/215793?day=2&unit=c&lang=en-us"},{Date:"2019-09-28T07:00:00+03:00",EpochDate:1569643200,Temperature:{Minimum:{Value:22.9,Unit:"C",UnitType:17},Maximum:{Value:29.3,Unit:"C",UnitType:17}},Day:{Icon:2,IconPhrase:"Mostly sunny",HasPrecipitation:!1},Night:{Icon:35,IconPhrase:"Partly cloudy",HasPrecipitation:!1},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv-port/215793/daily-weather-forecast/215793?day=3&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv-port/215793/daily-weather-forecast/215793?day=3&unit=c&lang=en-us"},{Date:"2019-09-29T07:00:00+03:00",EpochDate:1569729600,Temperature:{Minimum:{Value:23.2,Unit:"C",UnitType:17},Maximum:{Value:29.3,Unit:"C",UnitType:17}},Day:{Icon:2,IconPhrase:"Mostly sunny",HasPrecipitation:!1},Night:{Icon:34,IconPhrase:"Mostly clear",HasPrecipitation:!1},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv-port/215793/daily-weather-forecast/215793?day=4&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv-port/215793/daily-weather-forecast/215793?day=4&unit=c&lang=en-us"},{Date:"2019-09-30T07:00:00+03:00",EpochDate:1569816e3,Temperature:{Minimum:{Value:23,Unit:"C",UnitType:17},Maximum:{Value:29.5,Unit:"C",UnitType:17}},Day:{Icon:2,IconPhrase:"Mostly sunny",HasPrecipitation:!1},Night:{Icon:35,IconPhrase:"Partly cloudy",HasPrecipitation:!1},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv-port/215793/daily-weather-forecast/215793?day=5&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv-port/215793/daily-weather-forecast/215793?day=5&unit=c&lang=en-us"}]},L=a(28),U=a.n(L),_=function(e){var t="http://dataservice.accuweather.com/locations/v1/cities/search?apikey=test&q="+(e=encodeURIComponent(e.trim()));try{return U.a.get(t)}catch(a){console.log("requestLocationKey - Failed. Error: ",a)}},P=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;_(this.props.defaultCity).then((function(e){return console.log("1. Location value: ",e),e.data})).then((function(e){return console.log("2. Location.data value: ",e),e[0]})).then((function(t){return console.log("3. Location.data[0] value: ",t.key),e.props.dispatch({type:"UPDATE_CURRENT_CITY_INFO",City:t.EnglishName,CityId:t.Key,OriginCountry:t.Country.EnglishName}),t.Key})).then((function(e){return function(e){var t="http://dataservice.accuweather.com/currentconditions/v1/"+e+"?apikey=test";try{return U.a.get(t)}catch(a){console.log("requestLocationKey - Failed. Error: ",a)}}(e)})).then((function(e){return e.data})).then((function(e){return e[0]})).then((function(t){return e.props.dispatch({type:"UPDATE_CURRENT_CITY_CONDITIONS",WeatherText:t.WeatherText,WeatherIcon:t.WeatherIcon,Temperature:t.Temperature.Metric.Value}),t})).catch((function(e){return console.log("requestCurrentConditions error: ",e)}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"jumbotron home"},c.a.createElement(x,this.props),c.a.createElement(W,M))}}]),t}(c.a.Component),V=Object(y.b)((function(e){return{isCelsius:e.isCelsius,defaultCity:e.defaultCity,city:e.currentlyDisplayed.City,cityId:e.currentlyDisplayed.CityId,originCountry:e.currentlyDisplayed.OriginCountry,weatherText:e.currentlyDisplayed.WeatherText,weatherIcon:e.currentlyDisplayed.WeatherIcon,temperature:e.currentlyDisplayed.Temperature}}))(P),A=(a(84),a(85),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.isCelsius,n=t.CityId,r=t.City,i=t.OriginCountry,o=t.Temperature,s=t.WeatherText,l=t.WeatherIcon;return c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"card mb-4 shadow-sm"},c.a.createElement("div",{className:"card-body text-center"},c.a.createElement("img",{src:T(l),crossOrigin:"anonymous",alt:s}),c.a.createElement("h4",{className:"text-uppercase m-0"},r),c.a.createElement("p",{className:"mx-auto my-0"},i),c.a.createElement("hr",{className:"my-4"}),c.a.createElement(O,{temperature:o}),c.a.createElement("h5",{className:"temperature-content"},a?o:N(o),"\xb0"),c.a.createElement("div",{className:"small text-black-50"},s),c.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},c.a.createElement("div",{className:"btn-group"},c.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:function(){return e.props.dispatch(I(n))}},c.a.createElement(C.a,{icon:"trash-alt"})),c.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary"},c.a.createElement(C.a,{icon:"expand"})))))))}}]),t}(c.a.Component)),R=Object(y.b)()(A),F=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("section",{className:"favorites-section py-4 bg-black"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},this.props.favorites.map((function(e,t){return c.a.createElement(R,Object.assign({},e,{key:t}))}))))))}}]),t}(c.a.Component),H=Object(y.b)((function(e){return{favorites:e.favorites}}))(F);v.b.add(f.a,g.a);var G=function(){return c.a.createElement(p.a,null,c.a.createElement(b,null,c.a.createElement(E.a,{exact:!0,path:"/",component:V}),c.a.createElement(E.a,{path:"/favorites",component:H})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=a(22),q=a(47),Y=a.n(q),K={isCelsius:!0,isLightTheme:!0,defaultCity:"Tel Aviv",defaultCityId:215854,TTL:"",currentlyDisplayed:{City:"cityT",CityId:111999,OriginCountry:"WhoTown",WeatherText:"Sun Gone Nuclear",WeatherIcon:"5",Temperature:"5000"},favorites:[{City:"New York",CityId:"159259",OriginCountry:"USA",Temperature:14,WeatherText:"Chilly",WeatherIcon:"11"},{City:"Jakulugaba",CityId:"158259",OriginCountry:"Jakika",Temperature:2500,WeatherText:"Hot!!",WeatherIcon:"2"},{City:"New York",CityId:"119259",OriginCountry:"USA",Temperature:14,WeatherText:"Chilly",WeatherIcon:"11"},{City:"Jakulugaba",CityId:"158559",OriginCountry:"Jakika",Temperature:2500,WeatherText:"Hot!!",WeatherIcon:"2"}]},X=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(Error("LocalStorage: loadState() Failed. Error: "+t))}}(),B=Object(J.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_TEMP":return Object.assign({},e,{isCelsius:!e.isCelsius});case"TOGGLE_THEME":return Object.assign({},e,{isLightTheme:!e.isLightTheme});case"ADD_FAVORITE":return Object.assign({},e,{favorites:[].concat(Object(n.a)(e.favorites),[{City:t.City,CityId:t.CityId,OriginCountry:t.OriginCountry,Temperature:t.Temperature,WeatherText:t.WeatherText,WeatherIcon:t.WeatherIcon}])});case"REMOVE_FAVORITE":return Object.assign({},e,{favorites:e.favorites.filter((function(e){if(e.CityId!==t.CityId)return e}))});case"UPDATE_CURRENT_CITY_INFO":return Object.assign({},e,{currentlyDisplayed:Object.assign({},e.currentlyDisplayed,{City:t.City,CityId:t.CityId,OriginCountry:t.OriginCountry})});case"UPDATE_CURRENT_CITY_CONDITIONS":return Object.assign({},e,{currentlyDisplayed:Object.assign({},e.currentlyDisplayed,{WeatherText:t.WeatherText,WeatherIcon:t.WeatherIcon,Temperature:t.Temperature})});default:return e||[]}}),X,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());B.subscribe(Y()((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log(Error("LocalStorage: saveState() Failed. Error: "+a))}}(B.getState())}),1e3)),o.a.render(c.a.createElement(y.a,{store:B},localStorage.clear(),c.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[49,1,2]]]);
//# sourceMappingURL=main.fb3e82bb.chunk.js.map