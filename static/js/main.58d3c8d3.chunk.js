(window["webpackJsonpdaniel-shema-24-09-19"]=window["webpackJsonpdaniel-shema-24-09-19"]||[]).push([[0],{132:function(e,t,a){e.exports=a(323)},137:function(e,t,a){},138:function(e,t,a){},144:function(e,t,a){},318:function(e,t,a){},319:function(e,t,a){},320:function(e,t,a){},321:function(e,t,a){},322:function(e,t,a){},323:function(e,t,a){"use strict";a.r(t);var r=a(37),n=a(125),c=a(0),i=a.n(c),o=a(16),s=a.n(o),l=(a(137),a(138),a(3)),u=a(4),m=a(7),p=a(5),h=a(8),y=a(29),d=a(6),f=(a(144),a(128)),E=(a(298),a(36)),b=a.n(E),v=function(e){return"".concat("http://apidev.accuweather.com/developers/Media/Default/WeatherIcons/").concat(e>9?e:"0"+e,"-s.png")},g=function(e){return(1.8*e+32).toFixed(1)},C=function(e){var t=new Date(1e3*e).getDay(),a=[];return a[0]="Sunday",a[1]="Monday",a[2]="Tuesday",a[3]="Wednesday",a[4]="Thursday",a[5]="Friday",a[6]="Saturday",a[t]},O="9MpqiOaZsD1p9P11PloCiFHszwVAkUcT",T=function(e){e=encodeURIComponent(e.trim());var t="http://dataservice.accuweather.com/locations/v1/cities/search?apikey="+O+"&q="+e;try{return console.log("requestLocationKey sent:",e),b.a.get(t).then((function(e){return e.data})).then((function(e){return e[0]}))}catch(a){console.log("requestLocationKey - Failed. Error: ",a)}},N=function(e){var t="http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey="+O+"&q="+e;try{return console.log("autoSearchQuery sent: ",e),b.a.get(t).then((function(e){return e.data}))}catch(a){console.log("autoSearchQuery - Failed. Error: ",a)}},D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n))))._handleSearch=function(e){a.props.dispatch({type:"SET_IS_LOADING",isLoading:!0}),N(e).then((function(e){return console.log("back from autoSearch: ",e),e})).then((function(e){a.props.dispatch({type:"ADD_SEARCH_OPTIONS",options:e,isLoading:!1}),a.props.dispatch({type:"SET_IS_LOADING",isLoading:!1})}))},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.isCelsius,r=t.isLightTheme,n=t.children;return i.a.createElement("div",null,i.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark",id:"mainNav"},i.a.createElement("div",{className:"container"},i.a.createElement(y.b,{className:"navbar-brand js-scroll-trigger",to:"/"},"CastAWeather"),i.a.createElement("button",{className:"navbar-toggler navbar-toggler-right",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},i.a.createElement("span",{className:"navbar-toggler-icon"})),i.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},i.a.createElement("ul",{className:"navbar-nav mr-auto"},i.a.createElement("li",null),i.a.createElement("li",{className:"nav-item"},i.a.createElement(y.b,{className:"nav-link js-scroll-trigger",to:"/"},"Home")),i.a.createElement("li",{className:"nav-item"},i.a.createElement(y.b,{className:"nav-link js-scroll-trigger",to:"/favorites"},"Favorites"))),i.a.createElement("div",{className:"toggle-group"},i.a.createElement("div",{className:"custom-control custom-switch"},i.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"themeSwitch",onChange:function(){return e.props.dispatch({type:"TOGGLE_THEME"})},checked:!r}),i.a.createElement("label",{className:"custom-control-label text-white pr-2",htmlFor:"themeSwitch"},"Light / Dark Theme")),i.a.createElement("div",{className:"custom-control custom-switch"},i.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"temperatureSwitch",onChange:function(){return e.props.dispatch({type:"TOGGLE_TEMP"})},checked:!a}),i.a.createElement("label",{className:"custom-control-label text-white pr-2",htmlFor:"temperatureSwitch"},"C / F"))),i.a.createElement(f.AsyncTypeahead,{id:"search",isLoading:this.props.isLoading,labelKey:"LocalizedName",minLength:3,onSearch:this._handleSearch,placeholder:"Search for a city...",renderMenuItemChildren:function(e,t){return e.LocalizedName},options:this.props.options})))),n)}}]),t}(i.a.Component),I=Object(d.b)((function(e){return{isCelsius:e.isCelsius,isLightTheme:e.isLightTheme,isLoading:e.isLoading,options:e.options}}))(D),j=a(24),x=a(35),w=a(129),_=a(130),S=(a(318),a(19)),k=(a(319),a(320),function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).setIndicatorColor=function(e){return e>=40?["thermometer-full","#d20025"]:e>=30?["thermometer-three-quarters","#d2ce0e"]:e>=20?["thermometer-half","#2ad20d"]:e>=15?["thermometer-quarter","#2428ec"]:["thermometer-empty","#248eec"]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.setIndicatorColor(this.props.temperature);return i.a.createElement(S.a,{className:"primary mb-2 ".concat(this.props.className),icon:e[0],color:e[1],size:this.props.isHeadline?"3x":"1x"})}}]),t}(i.a.Component)),L=function(e){return{type:"REMOVE_FAVORITE",CityId:e}},W=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.city,r=t.cityId,n=t.originCountry,c=t.isCelsius,o=t.weatherText,s=t.weatherIcon,l=t.temperature,u=t.IsDayTime;return i.a.createElement("header",{className:"masthead border-bottom ".concat(u?"day":"night")},i.a.createElement("div",{className:"d-flex justify-content-start pl-lg-5"},i.a.createElement("div",{className:"btn-group pt-3"},i.a.createElement("button",{type:"button",className:"btn btn-lg btn-outline-secondary",onClick:function(){e.props.dispatch(function(e,t,a,r,n,c){return{type:"ADD_FAVORITE",CityId:e,City:t,OriginCountry:a,Temperature:c,WeatherText:r,WeatherIcon:n}}(r,a,n,o,s,l))}},i.a.createElement(S.a,{icon:"star"})),i.a.createElement("button",{type:"button",className:"btn btn-lg btn-outline-secondary",onClick:function(){e.props.dispatch(L(r))}},i.a.createElement(S.a,{icon:"trash-alt"})))),i.a.createElement("div",{className:"container d-flex h-100 align-items-center"},i.a.createElement("div",{className:"mx-auto text-center"},i.a.createElement("h1",{className:"mx-auto my-0 text-uppercase text-white border city-info"},a),i.a.createElement("p",{className:"mx-auto my-0 text-white city-info"},n),i.a.createElement("img",{src:v(s),crossOrigin:"anonymous",alt:o}),i.a.createElement("h2",{className:"text-white mx-auto mt-2 mb-5 city-info"},c?l:g(l),"\xb0"),i.a.createElement(k,{temperature:l,color:"red",isHeadline:!0}),i.a.createElement("h2",{className:"text-white mx-auto mt-2 mb-5 city-info"},o))))}}]),t}(i.a.Component),F=Object(d.b)()(W),A=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.key,e.isCelsius),a=e.Date,r=e.EpochDate,n=e.Temperature;return i.a.createElement("div",{className:"col-md-2"},i.a.createElement("div",{className:"card mb-4 shadow-sm"},i.a.createElement("div",{className:"card-body text-center"},i.a.createElement("h6",{className:"text-uppercase m-2"},C(r)),i.a.createElement("h4",{className:"text-uppercase m-0"},t?"".concat(n.Minimum.Value,"\xb0\n                                 - ").concat(n.Maximum.Value,"\xb0"):"".concat(g(n.Minimum.Value),"\xb0\n                                 - ").concat(g(n.Maximum.Value),"\xb0")),i.a.createElement("div",{className:"d-flex justify-content-around"},i.a.createElement(k,{temperature:n.Minimum.Value}),i.a.createElement(k,{temperature:n.Maximum.Value})),i.a.createElement("div",{className:"d-flex justify-content-around"},i.a.createElement(S.a,{icon:"moon",style:{color:"#2e3ed9"}}),i.a.createElement(S.a,{icon:"sun",style:{color:"#d9d167"}})),i.a.createElement("hr",{className:"my-4"}),i.a.createElement("p",{className:"text-uppercase m-2 small"},function(e,t){var a=e.substring(0,e.indexOf("T"));return a=a.split("-").reverse().join("-")}(a)))))}}]),t}(i.a.Component),R=Object(d.b)()(A),P=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).phraseData=function(e){return{type:"UPDATE_CURRENTS_NEXT_5_DAYS",Date:e.Date,EpochDate:e.EpochDate,Temperature:e.Temperature,Day:e.Day,Night:e.Night}},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){var t="http://dataservice.accuweather.com/forecasts/v1/daily/5day/"+e+"?apikey="+O+"&metric=true";try{return console.log("requestNext5DaysForecast sent: ",e),b.a.get(t).then((function(e){return e.data})).then((function(e){return e.DailyForecasts}))}catch(a){console.log("requestNext5DaysForecast - Failed. Error: ",a)}})(this.props.cityId).then((function(t){return t.map((function(t){return e.props.dispatch(e.phraseData(t)),t})),t})).catch((function(e){return console.log("request5DaysConditions error: ",e)}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"container-fluid"},i.a.createElement("h3",{className:"mx-auto my-4 pl-4 text-uppercase"},"The Next 5 Days:"),i.a.createElement("div",{className:"row justify-content-center"},this.props.DailyForecasts.map((function(t,a){return i.a.createElement(R,Object.assign({},t,{isCelsius:e.props.isCelsius,key:e.props.cityId+a}))}))))}}]),t}(i.a.Component),M=Object(d.b)((function(e){return{cityId:e.currentlyDisplayed.CityId,isCelsius:e.isCelsius,DailyForecasts:e.currentlyDisplayed.DailyForecasts}}))(P),U=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;T(this.props.defaultCity).then((function(t){return e.props.dispatch({type:"UPDATE_CURRENT_CITY_INFO",City:t.EnglishName,CityId:t.Key,OriginCountry:t.Country.EnglishName}),t.Key})).then((function(e){return function(e){var t="http://dataservice.accuweather.com/currentconditions/v1/"+e+"?apikey="+O;try{return console.log("requestCurrentConditionsByKey sent: ",e),b.a.get(t).then((function(e){return e.data})).then((function(e){return e[0]}))}catch(a){console.log("requestCurrentConditionsByKey - Failed. Error: ",a)}}(e)})).then((function(t){return e.props.dispatch({type:"UPDATE_CURRENT_CITY_CONDITIONS",WeatherText:t.WeatherText,WeatherIcon:t.WeatherIcon,Temperature:t.Temperature.Metric.Value,IsDayTime:t.IsDayTime}),t})).catch((function(e){return console.log("requestCurrentConditions error: ",e)}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"jumbotron home"},i.a.createElement(F,this.props),i.a.createElement(M,this.props))}}]),t}(i.a.Component),V=Object(d.b)((function(e){return{TTL:e.TTL,isCelsius:e.isCelsius,defaultCity:e.defaultCity,city:e.currentlyDisplayed.City,cityId:e.currentlyDisplayed.CityId,originCountry:e.currentlyDisplayed.OriginCountry,weatherText:e.currentlyDisplayed.WeatherText,weatherIcon:e.currentlyDisplayed.WeatherIcon,temperature:e.currentlyDisplayed.Temperature,DailyForecasts:e.currentlyDisplayed.DailyForecasts}}))(U),q=(a(321),a(322),function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.isCelsius,r=t.CityId,n=t.City,c=t.OriginCountry,o=t.Temperature,s=t.WeatherText,l=t.WeatherIcon;return i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"card mb-4 shadow-sm"},i.a.createElement("div",{className:"card-body text-center"},i.a.createElement("img",{src:v(l),crossOrigin:"anonymous",alt:s}),i.a.createElement("h4",{className:"text-uppercase m-0"},n),i.a.createElement("p",{className:"mx-auto my-0"},c),i.a.createElement("hr",{className:"my-4"}),i.a.createElement(k,{temperature:o}),i.a.createElement("h5",{className:"temperature-content"},a?o:g(o),"\xb0"),i.a.createElement("div",{className:"small text-black-50"},s),i.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},i.a.createElement("div",{className:"btn-group"},i.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:function(){return e.props.dispatch(L(r))}},i.a.createElement(S.a,{icon:"trash-alt"})))))))}}]),t}(i.a.Component)),G=Object(d.b)()(q),H=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("section",{className:"favorites-section py-4 bg-black"},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},this.props.favorites.map((function(t,a){return i.a.createElement(G,Object.assign({},t,{isCelsius:e.props.isCelsius,isLightTheme:e.props.isLightTheme,key:a}))}))))))}}]),t}(i.a.Component),J=Object(d.b)((function(e){return{favorites:e.favorites,isCelsius:e.isCelsius,isLightTheme:e.isLightTheme}}))(H);x.b.add(w.a,_.a);var Y=function(){return i.a.createElement(y.a,null,i.a.createElement(I,null,i.a.createElement(j.a,{exact:!0,path:"/",component:V}),i.a.createElement(j.a,{path:"/favorites",component:J})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=a(48),X=a(131),z=a.n(X);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Z={isCelsius:!0,isLightTheme:!0,defaultCity:"Tel Aviv",defaultCityId:215854,IsDayTime:!0,TTL:"",isLoading:!1,options:[],currentlyDisplayed:{City:"cityT",CityId:215854,OriginCountry:"WhoTown",WeatherText:"Sun Gone Nuclear",WeatherIcon:"5",Temperature:"5000",DailyForecasts:[]},favorites:[{City:"New York",CityId:"159259",OriginCountry:"USA",Temperature:14,WeatherText:"Chilly",WeatherIcon:"11"},{City:"Jakulugaba",CityId:"158259",OriginCountry:"Jakika",Temperature:2500,WeatherText:"Hot!!",WeatherIcon:"2"},{City:"New York",CityId:"119259",OriginCountry:"USA",Temperature:14,WeatherText:"Chilly",WeatherIcon:"11"},{City:"Jakulugaba",CityId:"158559",OriginCountry:"Jakika",Temperature:2500,WeatherText:"Hot!!",WeatherIcon:"2"}]},$=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(Error("LocalStorage: loadState() Failed. Error: "+t))}}(),ee=Object(K.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_TEMP":return Q({},e,{isCelsius:!e.isCelsius});case"TOGGLE_THEME":return Q({},e,{isLightTheme:!e.isLightTheme});case"SET_IS_LOADING":return Q({},e,{isLoading:t.isLoading});case"ADD_SEARCH_OPTIONS":return Q({},e,{options:[].concat(Object(r.a)(e.options),Object(r.a)(t.options))});case"ADD_FAVORITE":var a=e.favorites.find((function(e){return e.CityId===t.CityId}));return Q({},e,void 0!==a?{favorites:e.favorites.map((function(e){return e.CityId===t.CityId?Q({},e,{Temperature:t.Temperature,WeatherText:t.WeatherText,WeatherIcon:t.WeatherIcon}):e}))}:{favorites:[].concat(Object(r.a)(e.favorites),[{City:t.City,CityId:t.CityId,OriginCountry:t.OriginCountry,Temperature:t.Temperature,WeatherText:t.WeatherText,WeatherIcon:t.WeatherIcon}])});case"REMOVE_FAVORITE":return Q({},e,{favorites:e.favorites.filter((function(e){return e.CityId!==t.CityId}))});case"UPDATE_CURRENT_CITY_INFO":return Q({},e,{currentlyDisplayed:Q({},e.currentlyDisplayed,{City:t.City,CityId:t.CityId,OriginCountry:t.OriginCountry})});case"UPDATE_CURRENT_CITY_CONDITIONS":return Q({},e,{currentlyDisplayed:Q({},e.currentlyDisplayed,{WeatherText:t.WeatherText,WeatherIcon:t.WeatherIcon,Temperature:t.Temperature,IsDayTime:t.IsDayTime})});case"UPDATE_CURRENTS_NEXT_5_DAYS":var n=e.favorites.find((function(e){return e.Date===t.Date}));return Q({},e,void 0!==n?{currentlyDisplayed:Q({},e.currentlyDisplayed,{DailyForecasts:e.currentlyDisplayed.DailyForecasts.map((function(e){return e.Date===t.Date&&e.CityId===t.CityId?Q({},e,{Temperature:t.Temperature,DayIcon:t.Day,NightIcon:t.Night}):e}))})}:{currentlyDisplayed:Q({},e.currentlyDisplayed,{DailyForecasts:[].concat(Object(r.a)(e.currentlyDisplayed.DailyForecasts.filter((function(e){return e.CityId===t.CityId}))),[{CityId:t.CityId,EpochDate:t.EpochDate,Date:t.Date,Temperature:t.Temperature,DayIcon:t.Day,NightIcon:t.Night}])})});default:return e||[]}}),$,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());ee.subscribe(z()((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log(Error("LocalStorage: saveState() Failed. Error: "+a))}}(ee.getState())}),1e3)),s.a.render(i.a.createElement(d.a,{store:ee},i.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[132,1,2]]]);
//# sourceMappingURL=main.58d3c8d3.chunk.js.map